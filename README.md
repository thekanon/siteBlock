# 사이트 차단 확장 프로그램 설치 및 사용 가이드

## 📦 파일 구조

다음 파일들을 동일한 폴더에 저장해주세요:

```
site-blocker/
├── manifest.json
├── background.js
├── content.js
├── popup.html
├── popup.js           ← JavaScript 파일
├── block-page.html
└── block-page.js      ← JavaScript 파일
```

**총 7개 파일이 필요합니다!**

## 🔧 Chrome에서 설치하기

### 1단계: 개발자 모드 활성화

1. Chrome 브라우저에서 `chrome://extensions/` 주소로 이동
2. 우측 상단의 **개발자 모드** 토글을 ON으로 설정

### 2단계: 확장 프로그램 로드

1. **압축해제된 확장 프로그램을 로드합니다** 버튼 클릭
2. 모든 파일이 들어있는 `site-blocker` 폴더 선택
3. 확장 프로그램이 로드되면 Chrome 툴바에 아이콘이 나타남

## 🚨 문제 해결

### CSP(Content Security Policy) 오류 해결

- **문제**: "Refused to execute inline script" 오류
- **해결**: 모든 JavaScript 코드를 별도 파일(`popup.js`)로 분리
- **확인**: 브라우저 개발자 도구(F12)에서 콘솔 오류 확인

### 현재 사이트 로딩 문제 해결

- **권한 확인**: `manifest.json`에서 모든 필요한 권한이 있는지 확인
- **특수 페이지**: `chrome://`, `about:` 등의 페이지에서는 차단 불가
- **디버그 모드**: `Ctrl + 우클릭`으로 디버그 정보 확인

## 🔍 디버깅 방법

### 디버그 정보 확인

1. 확장 프로그램 팝업에서 `Ctrl + 우클릭`
2. 디버그 섹션에서 다음 정보 확인:
   - Chrome API 사용 가능 여부
   - 현재 URL 및 도메인
   - Storage API 상태
   - 차단된 사이트 수

### 콘솔 로그 확인

1. 확장 프로그램 아이콘 우클릭 → **검사**
2. 콘솔 탭에서 오류 메시지 확인
3. 네트워크 탭에서 API 호출 상태 확인

## 🦊 Firefox에서 설치하기

### 1단계: 임시 설치 (개발용)

1. Firefox에서 `about:debugging` 주소로 이동
2. **이 Firefox** 클릭
3. **임시 부가 기능 로드** 클릭
4. `manifest.json` 파일 선택

### 2단계: 영구 설치 (선택사항)

- 실제 사용을 위해서는 Mozilla Add-ons 스토어에 등록해야 합니다

## 🚀 사용 방법

### 기본 사용법

1. **확장 프로그램 아이콘 클릭** - 팝업 창이 열립니다
2. **현재 사이트 차단** - 현재 보고 있는 사이트를 차단 목록에 추가
3. **수동 사이트 추가** - 도메인을 직접 입력하여 차단 목록에 추가
4. **차단 해제** - 차단 목록에서 사이트 제거

### 차단 동작

- 차단된 사이트에 접속하면 자동으로 차단 페이지가 표시됩니다
- 차단 페이지에는 다음 정보가 표시됩니다:
  - 오늘 해당 사이트 접속 횟수
  - 오늘 해당 사이트 총 접속 시간
  - 현재 시간
  - 이전 페이지로 돌아가기 버튼

### 통계 확인

- 확장 프로그램 팝업에서 오늘의 전체 통계를 확인할 수 있습니다
- 각 차단된 사이트별 접속 횟수와 시간을 볼 수 있습니다

## ⚙️ 주요 기능

### 🎯 스마트 차단

- URL 패턴 인식으로 정확한 도메인 차단
- 서브도메인 포함 차단 (예: www.youtube.com, m.youtube.com)

### 📊 상세 통계

- 일별 접속 횟수 추적
- 일별 접속 시간 추적
- 실시간 통계 업데이트

### 🎨 사용자 친화적 인터페이스

- 직관적인 팝업 인터페이스
- 아름다운 차단 페이지 디자인
- 반응형 디자인

### 🔄 자동 동작

- 백그라운드에서 자동 모니터링
- 페이지 로드 시 즉시 차단
- 탭 전환 시 시간 자동 기록

## 🛠️ 고급 설정

### 데이터 저장 위치

- 차단 사이트 목록: `chrome.storage.sync` (동기화됨)
- 접속 통계: `chrome.storage.local` (로컬 저장)

### 권한 설명

- `storage`: 설정 및 통계 저장
- `activeTab`: 현재 탭 정보 접근
- `tabs`: 탭 관리 및 리다이렉션
- `webNavigation`: 페이지 네비게이션 감지
- `<all_urls>`: 모든 사이트에서 동작

## 🔍 문제해결

### 확장 프로그램이 동작하지 않는 경우

1. 개발자 모드가 활성화되어 있는지 확인
2. 모든 파일이 올바른 위치에 있는지 확인
3. Chrome 확장 프로그램 페이지에서 오류 메시지 확인

### 차단이 동작하지 않는 경우

1. 사이트가 올바르게 차단 목록에 추가되었는지 확인
2. 페이지를 새로고침해보세요
3. 확장 프로그램을 비활성화 후 다시 활성화

### 통계가 표시되지 않는 경우

1. 충분한 시간 동안 사이트를 방문했는지 확인
2. 브라우저를 재시작해보세요
3. 확장 프로그램 데이터를 초기화하고 다시 시도

## 💡 사용 팁

### 효과적인 차단을 위한 팁

- 메인 도메인만 차단해도 서브도메인이 함께 차단됩니다
- 정기적으로 통계를 확인하여 습관을 점검하세요
- 차단 페이지에서 즉시 뒤로 가기를 클릭하는 습관을 만드세요

### 생산성 향상 활용법

- 업무 시간 중 방해되는 사이트들을 차단
- 공부할 때 집중력을 해치는 사이트들을 차단
- 잠자리에 들기 전 스마트폰 사용 제한

## 🔒 개인정보 보호

- 모든 데이터는 사용자의 브라우저에만 저장됩니다
- 외부 서버로 데이터가 전송되지 않습니다
- 사용자가 언제든지 데이터를 삭제할 수 있습니다

## 📝 버전 정보

- 버전: 1.0
- 지원 브라우저: Chrome, Firefox (Manifest V3)
- 최소 요구사항: Chrome 88+, Firefox 109+
